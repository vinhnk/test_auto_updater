<div class="container">
    <!-- Form tìm kiếm -->
    <div class="search-form">
      <nz-input-group [nzSuffix]="suffixIconSearch">
        <input
          type="text"
          nz-input
          [(ngModel)]="searchTitle"
          placeholder="Nhập tên tour cần tìm"
          (keyup.enter)="onSearch()"
        />
      </nz-input-group>
      <ng-template #suffixIconSearch>
        <i nz-icon nzType="search"></i>
      </ng-template>
      
      <button nz-button nzType="primary" (click)="onSearch()">
        <i nz-icon nzType="search"></i>
        Tìm kiếm
      </button>
      <button nz-button (click)="resetSearch()">
        <i nz-icon nzType="reload"></i>
        Reset
      </button>
      <button nz-button nzType="primary" (click)="openModal()">
        <i nz-icon nzType="plus"></i>
        Thêm mới
      </button>
    </div>
  
    <!-- Bảng danh sách -->
    <nz-table
      #basicTable
      [nzData]="tours"
      [nzTotal]="total"
      [nzPageSize]="pageSize"
      [nzPageIndex]="pageIndex"
      [nzLoading]="loading"
      (nzPageIndexChange)="pageIndex = $event; loadTours()"
      (nzPageSizeChange)="pageSize = $event; loadTours()"
    >
      <thead>
        <tr>
          <th>Title</th>
          <th>Image</th>
          <th>Price</th>
          <th>Location</th>
          <th>Duration</th>
          <th>From Date</th>
          <th>To Date</th>
          <th>Created By</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tour of basicTable.data">
          <td>{{ tour.title }}</td>
          <td>
            <img [src]="tour.image | secureImage" [alt]="tour.title" class="tour-image" />
          </td>
          <td>{{ tour.price | currency:'VND' }}</td>
          <td>{{ tour.location }}</td>
          <td>{{ tour.duration }} ngày</td>
          <td>{{ tour.fromDate | date }}</td>
          <td>{{ tour.toDate | date }}</td>
          <td>{{ tour.createdBy }}</td>
          <td>
            <button nz-button nzType="primary" (click)="openModal(tour)">
              <i nz-icon nzType="edit"></i>
            </button>
            <button nz-button nzType="primary" nzDanger (click)="deleteTour(tour.id!)">
              <i nz-icon nzType="delete"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </div>